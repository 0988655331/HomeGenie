<!-- ProgramEngine - Program List -->
<div data-role="page" id="page_automation_programs">

    {include pages/header.html}

    <div data-role="content" style="padding: 15px">

        <img src="images/automation.png" style="position:absolute;top:65px;left:20px;" width="64" />
        <div style="position:relative;height:100px;font-size:10pt;margin-top:10px"><h3 id="configure_automation_group_title" style="position:absolute;bottom:30px;left:90px;" data-locale-id="configure_program_automationtitle"></h3></div>

        <ul id="configure_programslist" data-role="listview" data-inset="false" data-split-icon="check" -data-filter="true"></ul>
    </div>


    <div data-role="popup" data-position-to="window" id="automation_program_add" class="ui-corner-all">
        <div data-role="header" class="ui-corner-top">
            <h1 data-locale-id="configure_program_newprogram">New Program</h1>
        </div>
        <div data-role="content" class="ui-corner-bottom ui-content">
            <h3 data-locale-id="configure_program_enterprogramname" class="ui-title">Enter new program name:</h3>
            <input id="program_new_name" type="text" />
            <a data-locale-id="configure_program_newprogramcancel" href="#" data-role="button" data-inline="true" data-rel="back">Cancel</a>
            <a data-locale-id="configure_program_newprogramconfirm" id="program_new_button" href="#" data-role="button" data-inline="true" data-rel="back" data-transition="flow">Ok</a>
        </div>
    </div>



    <div data-role="popup" id="automationprograms_group_delete" class="ui-corner-all">
        <div data-role="header" class="ui-corner-top">
            <h1 data-locale-id="configure_group_deletegroup">Delete Group?</h1>
        </div>
        <div data-role="content" class="ui-corner-bottom ui-content">
            <h3 data-locale-id="configure_group_deleteprompt" class="ui-title">Are you sure you want to delete this group?</h3>
            <p data-locale-id="configure_group_deletewarning">This action cannot be undone.</p>
            <a data-locale-id="configure_group_deletecancel" href="#" data-role="button" data-inline="true" data-rel="back">Cancel</a>
            <a data-locale-id="configure_group_deleteconfirm" id="automationprograms_delete_button" href="#" data-role="button" data-inline="true" data-rel="back" data-transition="flow">Delete</a>
        </div>
    </div>


    <div data-role="popup" id="automationprograms_program_delete" class="ui-corner-all">
        <div data-role="header" class="ui-corner-top">
            <h1 data-locale-id="configure_program_deletetitle">Delete Program?</h1>
        </div>
        <div data-role="content" class="ui-corner-bottom ui-content">
            <h3 data-locale-id="configure_program_deleteprompt" class="ui-title">Are you sure you want to delete this program?</h3>
            <p data-locale-id="configure_program_deleteadvice">This action cannot be undone.</p>
            <a data-locale-id="configure_program_deletecancel" href="#" data-role="button" data-inline="true" data-rel="back">Cancel</a>
            <a data-locale-id="configure_program_deleteconfirm" id="automationprograms_program_delete_button" href="#" data-role="button" data-inline="true" data-rel="back" data-transition="flow">Delete</a>
        </div>
    </div>

    <div data-role="popup" id="automationprograms_program_options" style="min-width:300px;" class="ui-corner-all">
        <a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
        <div data-role="header" class="ui-corner-top">
            <h1 data-locale-id="configure_program_options">Options</h1>
        </div>
        <div data-role="content" class="ui-corner-bottom ui-content">
            <h4 id="automationprograms_program_title"></h4>
            <p id="automationprograms_program_description"></p>
            <div data-role="navbar">
                <ul id="automationprograms_program_options_list">
                    <li id="automationprograms_program_options_tab0"><a class="ui-btn-active" href="javascript:HG.WebApp.ProgramsList.SetOptionsTab(0)">Options</a></li>
                    <li id="automationprograms_program_options_tab1"><a href="javascript:HG.WebApp.ProgramsList.SetOptionsTab(1)">Details</a></li><!-- Implemented Parameters, Features and Virtual Modules -->
                </ul>
            </div><!-- /navbar -->


            <div id="automationprograms_program_parameters" data-role="controlgroup" data-type="vertical" style="border:solid 1px gray;padding:5px;padding-top:0;height:180px;max-height:180px;overflow-y:scroll;overflow-x:hidden;">
            </div>
            <div id="automationprograms_program_details" data-role="controlgroup" data-type="vertical" style="display:none;border:solid 1px gray;padding:5px;padding-top:0;height:180px;max-height:180px;overflow-y:scroll;overflow-x:hidden;">

            </div>

            <a data-locale-id="configure_program_options_edit" id="automationprograms_program_edit" href="#page_automation_editprogram" data-role="button" data-transition="slide" data-icon="edit">Edit program</a>
            <a data-locale-id="configure_program_options_export" href="javascript:HG.WebApp.ProgramsList.ExportProgram(HG.WebApp.ProgramEdit._CurrentProgram.Address)" data-role="button" data-icon="bars">Export program</a>
            <a data-locale-id="configure_program_options_delete" href="#automationprograms_program_delete" data-role="button" data-position-to="window" data-rel="popup" data-transition="pop" data-icon="delete">Delete program</a>

        </div>
    </div>
    <div data-role="popup" id="automation_program_import" style="min-width:300px;" class="ui-corner-all">
        <a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
        <div data-role="header" class="ui-corner-top">
            <h1 data-locale-id="configure_program_options">Import Program</h1>
        </div>
        <div data-role="content" class="ui-corner-bottom ui-content">
            <fieldset data-role="controlgroup" data-type="vertical" style="border:solid 1px gray;padding:5px;padding-top:0">
                <form id="program_import_form" target="program_upload_frame" enctype="multipart/form-data" method="post" action="../HomeAutomation.HomeGenie/Automation/Programs.Import/" data-ajax="false">
                    <input id="program_import_uploadfile" type="file" title="Import program from XML file" name="file" />
                </form>
                <a href="#" id="program_import_button" data-role="button">Import</a>
                <iframe id="program_import_uploadframe" name="program_upload_frame" src="/dummy/" style="display:none;width:0;height:0;border:0"></iframe>
                <iframe id="program_import_downloadframe" name="program_download_frame" src="/dummy/" style="display:none;width:0;height:0;border:0"></iframe>
            </fieldset>
        </div>
    </div>
    <div data-role="popup" id="listprograms_actionmenu">
        <a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
        <h5 align="center">Actions Menu</h5>
        <ul data-role="listview" data-inset="false" style="min-width:210px;">
            <li data-icon="minus" data-iconpos="left"><a href="#automationprograms_group_delete" data-rel="popup" data-transition="pop" data-position-to="window">Delete group</a></li>
            <li data-icon="bars" data-iconpos="left"><a href="#automation_program_import" data-rel="popup" data-transition="pop" data-position-to="window">Import program</a></li>
            <li data-icon="edit" data-iconpos="left"><a href="#automation_program_add" data-rel="popup" data-transition="pop" data-position-to="window">Add new program</a></li>
            <li data-icon="refresh" data-icon-pos="left"><a href="javascript:HG.WebApp.ProgramsList.LoadPrograms(null)">Refresh list</a></li>
        </ul>
    </div>

    <div data-role="footer" data-position="fixed" data-tap-toggle="false">
        <div data-role="navbar" data-iconpos="right">
            <ul>
                <li>
                    <a data-locale-id="bottombar_button_back" data-role="button" data-transition="slide" data-direction="reverse" href="#page_configure_automationgroups" data-icon="back" data-iconpos="left" data-mini="true">
                        Back
                    </a>
                </li>
                <li>
                    <a data-locale-id="bottombar_button_home" data-role="button" data-transition="slide" data-direction="reverse" href="#page_home" data-icon="home" data-iconpos="left">
                        Home
                    </a>
                </li>
                <li>
                    <a data-locale-id="configure_program_bbaractions" data-role="button" href="#listprograms_actionmenu" data-rel="popup" data-transition="slideup" data-icon="arrow-u" data-iconpos="left" data-mini="true">
                        Actions
                    </a>
                </li>
            </ul>
        </div><!-- /navbar -->
    </div>

</div>


<!-- hg page init script -->
<script type="text/javascript">
    HG.WebApp.ProgramsList.InitializePage();
</script>