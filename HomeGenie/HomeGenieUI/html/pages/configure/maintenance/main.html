

<div data-role="page" id="page_configure_maintenance">

    {include pages/header.html}

    <div data-role="content" style="padding: 15px">


        <img src="images/maintenance.png" style="position:absolute;top:65px;left:20px;" width="64" />
        <div style="position:relative;height:70px;font-size:10pt;margin-top:10px"><h3 style="position:absolute;bottom:0;left:90px;" data-locale-id="configure_maintenance_heading">Maintenance</h3></div>


        <ul data-role="listview" data-inset="true">

            <li data-locale-id="configure_system_theme" data-role="list-divider">Theme</li>
            <li>
                <div data-role="controlgroup" data-type="horizontal">
                    <a data-role="button" href="javascript:HG.WebApp.Maintenance.SetTheme('a')">A</a>
                    <a data-role="button" href="javascript:HG.WebApp.Maintenance.SetTheme('b')">B</a>
                    <a data-role="button" href="javascript:HG.WebApp.Maintenance.SetTheme('c')">C</a>
                    <a data-role="button" href="javascript:HG.WebApp.Maintenance.SetTheme('d')">D</a>
                    <a data-role="button" href="javascript:HG.WebApp.Maintenance.SetTheme('e')">E</a>
                    <a data-role="button" href="javascript:HG.WebApp.Maintenance.SetTheme('f')">F</a>
                    <a data-role="button" href="javascript:HG.WebApp.Maintenance.SetTheme('g')">G</a>
                </div>
            </li>
            <li data-locale-id="configure_system_options" data-role="list-divider">System Options</li>
            <li>

                <div class="ui-grid-a">

                    <div class="ui-block-a">

                        <div>
                            <label><span data-locale-id="configure_system_updatemanager">HomeGenie Update Manager</span> </label>
                            <p id="configure_system_updatemanager_info" style="margin-top:5px"></p>
                            <div id="configure_system_updatemanager_detailsscroll" style="background-color: black; border: 1px dashed gray; overflow-y: scroll; overflow-x: hidden; max-height: 60px;">
                                <p id="configure_system_updatemanager_details">

                                </p>
                            </div>
                        </div>

                    </div>

                    <div class="ui-block-b">
                        <span style="float:right">
                            <div class="containing-element" style="width:200px">
                                <a data-locale-id="configure_system_updatemanager_updatecheck" id="configure_system_updatemanager_updatebutton" data-role="button">Update Check</a>
                                <a data-locale-id="configure_system_updatemanager_installupdate" id="configure_system_updatemanager_installbutton" data-role="button">Install Update</a>
                            </div>
                        </span>
                    </div>

                </div>

            </li>
            <li>

                <div class="ui-grid-a">

                    <div class="ui-block-a">

                        <div>
                            <label><span data-locale-id="configure_system_serviceportis">Http service port is</span> <span id="systemsettings_httpport_text"></span></label>
                            <br />
                        </div>

                    </div>

                    <div class="ui-block-b">
                        <span style="float:right">
                            <div class="containing-element" style="width:200px">
                                <a data-locale-id="configure_system_serviceportchange" href="#systemsettings_httpport_popup" data-rel="popup" data-role="button">Change Port</a>
                            </div>
                        </span>
                    </div>

                </div>

            </li>
            <li>

                <div class="ui-grid-a">

                    <div class="ui-block-a">

                        <div>
                            <label data-locale-id="configure_security_passwordprotectedaccess">Password protected access</label><br />
                            <img id="securitysettings_password_image" src="images/protection-on.png" width="64" height="64" style="margin:8px" />
                        </div>

                    </div>

                    <div class="ui-block-b">
                        <span style="float:right">
                            <div class="containing-element" style="width:200px">
                                <a href="#securitysettings_password_popup" data-rel="popup" data-role="button">Set</a>
                                <a href="#" id="securitysettings_password_clear" data-rel="popup" data-role="button">Clear</a>
                            </div>
                        </span>
                    </div>

                </div>

            </li>

            <li>
                <div class="ui-grid-a">

                    <div class="ui-block-a">
                        <label data-locale-id="configure_system_logging">Log and debug to file</label><br />
                    </div>

                    <div class="ui-block-b">
                        <span style="float:right">
                            <div class="containing-element" style="width:200px">
                                <select id="configure_system_flip_logging" data-role="slider">
                                    <option value="0" data-locale-id="configure_interfaces_optdisable">Disable</option>
                                    <option value="1" data-locale-id="configure_interfaces_optenable">Enable</option>
                                </select>
                            </div>
                        </span>
                    </div>

                </div>
            </li>


            <li data-locale-id="configure_system_configanddata" data-role="list-divider">Configuration and Data</li>
            <li>

                <div class="ui-grid-a">

                    <div class="ui-block-a">

                        <div>
                            <label data-locale-id="configure_maintenance_configuration">Configuration</label><br />

                            <form id="restore_configuration_form" style="margin-top:38px" target="uploadframe" enctype="multipart/form-data" method="post" action="../HomeAutomation.HomeGenie/Config/System.Configure/System.ConfigurationRestore" data-ajax="false">
                                <input id="restore_configuration_uploadfile" type="file" title="Restore from backup file." name="file" />
                            </form>
                            <iframe id="restore_configuration_uploadframe" name="uploadframe" src="/dummy/" style="display:none;width:0;height:0;border:0"></iframe>
                            <br />
                            <p data-locale-id="configure_maintenance_configuration_info"><b>Note:</b> before restoring a backup file you've to set the same system password used when creating it.</p>
                        </div>

                    </div>

                    <div class="ui-block-b">
                        <div class="containing-element" style="width:200px;float:right">
                            <a target="restore_configuration_downloadframe" href="../HomeAutomation.HomeGenie/Config/System.Configure/System.ConfigurationBackup" id="maintenance_configuration_backupbutton" data-role="button">Backup</a>
                            <a id="maintenance_configuration_restorebutton" href="#" data-role="button">Restore</a>
                            <a href="#maintenance_configuration_factoryresetpopup" data-rel="popup" data-transition="slidedown" data-role="button">Factory Reset</a>
                            <iframe id="restore_configuration_downloadframe" name="downloadframe" src="/dummy/" style="display:none;width:0;height:0;border:0"></iframe>
                        </div>
                    </div>

                </div>

            </li>
            <li>

                <div class="ui-grid-a">

                    <div class="ui-block-a">

                        <div>
                            <label data-locale-id="configure_system_statistics">Statistics</label><br />
                        </div>

                    </div>

                    <div class="ui-block-b">
                        <div class="containing-element" style="width:200px;float:right">
                            <a data-locale-id="configure_system_databasereset" href="javascript:HG.Statistics.Database.Reset()" data-role="button">Database Reset</a>
                        </div>
                    </div>

                </div>


            </li>
            <li>

                <div class="ui-grid-a">

                    <div class="ui-block-a">

                        <div>
                            <label data-locale-id="configure_system_modulescleanup">Modules Cleanup</label><br />
                        </div>

                    </div>

                    <div class="ui-block-b">
                        <div class="containing-element" style="width:200px;float:right">
                            <a data-locale-id="configure_system_modulesselect" href="#systemsettings_modulesdelete" data-role="button" data-rel="popup">Select Modules</a>
                        </div>
                    </div>

                </div>


            </li>
            <li>

                <div class="ui-grid-a">

                    <div class="ui-block-a">

                        <div>
                            <label data-locale-id="configure_system_remotemodules">Remote Modules Routing</label><br />
                        </div>

                    </div>

                    <div class="ui-block-b">
                        <div class="containing-element" style="width:200px;float:right">
                            <a data-locale-id="configure_system_modsroutingreset" href="javascript:HG.Configure.Modules.RoutingReset()" data-role="button">Reset</a>
                        </div>
                    </div>

                </div>


            </li>

        </ul>




        <div id="systemsettings_updateinstall_popup" data-role="popup" data-position-to="window" data-transition="pop" class="ui-corner-all">
            <a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
            <div data-role="header" class="ui-corner-top">
                <h1 data-locale-id="configure_system_updateinstall">Update Install</h1>
            </div>
            <div data-role="content" class="ui-corner-bottom ui-content" style="height:280px;max-height:280px;overflow-y:scroll;overflow-x:hidden;">

                <p id="configure_system_updateinstall_log" data-role="listview" style="font-family:monospace; font-size:8pt;"></p>

            </div>
            <div id="configure_system_updateinstall_status" style="border:1px dashed gray;margin:5px; padding:5px; height:50px; overflow:hidden"></div>
            <div data-role="footer" data-tap-toggle="false">
                <a id="configure_system_updateinstall_button" href="#" data-role="button" data-icon="gear" data-inline="false" class="ui-disabled" style="margin:8px">Install</a>
            </div>
        </div>




        <div id="systemsettings_modulesdelete" data-role="popup" data-position-to="window" data-transition="pop" style="max-width:300px;" class="ui-corner-all">
            <a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
            <div data-role="header" class="ui-corner-top">
                <h1 data-locale-id="configure_system_deletemodule">Delete Module</h1>
            </div>
            <div data-role="content" class="ui-corner-bottom ui-content" style="height:280px;max-height:280px;overflow-y:scroll;overflow-x:hidden;">

                <ul id="configure_interfaces_modules_list" data-role="listview"></ul>

            </div>
            <div data-role="footer" data-tap-toggle="false">
                <p align="center">Tap a module to delete it.</p>
            </div>
        </div>





        <div data-role="popup" id="systemsettings_backuprestores1" data-position-to="window" data-transition="pop" style="max-width:400px;" class="ui-corner-all">
            <div data-role="header" class="ui-corner-top">
                <h1 data-locale-id="systemsettings_backuprestores1heading">Restore Configuration</h1>
            </div>
            <div data-role="content" class="ui-corner-bottom ui-content">
                <h3 data-locale-id="configure_system_backuprestores1note" class="ui-title">Select Automation Programs to restore:</h3>
                <fieldset id="systemsettings_backuprestores1plist" data-role="controlgroup" data-type="vertical" style="border:solid 1px gray;padding:10px;height:280px;max-height:280px;overflow-y:scroll;overflow-x:hidden;"></fieldset>
                <a data-locale-id="systemsettings_backuprestores1cancel" href="#" data-role="button" data-inline="true" data-rel="back" data-transition="flow">Cancel</a>
                <a data-locale-id="systemsettings_backuprestores1confirm" id="systemsettings_backuprestores1confirmbutton" href="#" data-role="button" data-inline="true">Restore</a>
            </div>
        </div>


        <div data-role="popup" id="systemsettings_httpport_popup" data-position-to="window" data-transition="pop" style="max-width:400px;" class="ui-corner-all">
            <div data-role="header" class="ui-corner-top">
                <h1 data-locale-id="configure_system_serviceportheading">Http Service Port</h1>
            </div>
            <div data-role="content" class="ui-corner-bottom ui-content">
                <h3 data-locale-id="configure_system_serviceportchangenote" class="ui-title">Note: after changing port HomeGenie must be restarted to make changes effective!</h3>
                <p>
                    <label for="http_service_port" />
                    <input id="http_service_port" type="number" />
                </p>
                <a data-locale-id="configure_system_serviceportcancel" href="#" data-role="button" data-inline="true" data-rel="back">Cancel</a>
                <a data-locale-id="configure_system_serviceportchange" id="systemsettings_httpport_change" href="#" data-role="button" data-inline="true" data-rel="back" data-transition="flow">Change</a>
            </div>
        </div>



        <div data-role="popup" id="securitysettings_password_popup" data-position-to="window" data-transition="pop" style="max-width:400px;" class="ui-corner-all">
            <div data-role="header" class="ui-corner-top">
                <h1 data-locale-id="securitysettings_password_adminpassword"><b>admin</b> user password</h1>
            </div>
            <div data-role="content" class="ui-corner-bottom ui-content">
                <p>
                    <label for="securitysettings_user_password" />
                    <input id="securitysettings_user_password" type="password" />
                </p>
                <a data-locale-id="securitysettings_password_changecancel" href="#" data-role="button" data-inline="true" data-rel="back">Cancel</a>
                <a data-locale-id="securitysettings_password_changecommit" id="securitysettings_password_change" href="#" data-role="button" data-inline="true" data-rel="back" data-transition="flow">Set</a>
            </div>
        </div>







        <div data-role="popup" id="maintenance_configuration_factoryresetpopup" style="max-width:400px;" class="ui-corner-all">
            <div data-role="header" class="ui-corner-top">
                <h1 data-locale-id="maintenance_configuration_factoryreset">Factory Reset?</h1>
            </div>
            <div data-role="content" class="ui-corner-bottom ui-content">
                <h3 data-locale-id="configure_maintenance_resetprompt" class="ui-title">Are you sure you want to reset system configuration to factory defaults?</h3>
                <p data-locale-id="configure_maintenance_resetwarning"></p>
                <a data-locale-id="configure_maintenance_resetproceed" id="maintenance_configuration_factoryresetbutton" href="#" data-role="button" data-inline="true" data-rel="back" data-transition="slideup">Proceed</a>
                <a data-locale-id="configure_maintenance_resetcancel" href="#" data-role="button" data-inline="true" data-rel="back" data-transition="slideup">Cancel</a>
            </div>
        </div>







    </div>

    <div data-role="footer" data-position="fixed" data-tap-toggle="false">

        <div data-role="navbar" data-iconpos="right">
            <ul>
                <li>
                    <a data-locale-id="bottombar_button_back" data-role="button" data-transition="slide" data-direction="reverse" href="#page_configure" data-icon="back" data-iconpos="left" data-mini="true">
                        Back
                    </a>
                </li>
                <li>
                    <a data-locale-id="bottombar_button_home" data-role="button" data-transition="slide" data-direction="reverse" href="#page_home" data-icon="home" data-iconpos="left">
                        Home
                    </a>
                </li>
                <li>
                    <a data-locale-id="configure_menu_system" data-role="button" data-transition="slide" href="#page_configure_interfaces" data-icon="gear" data-iconpos="left" data-mini="true">
                        Interfaces
                    </a>
                </li>
            </ul>
        </div><!-- /navbar -->

    </div>

</div>

<!-- hg page init script -->
<script type="text/javascript">
    HG.WebApp.Maintenance.InitializePage();
</script>